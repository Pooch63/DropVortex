'use strict';
function _type_of(obj) {
    "@swc/helpers - typeof";
    return obj && typeof Symbol !== "undefined" && obj.constructor === Symbol ? "symbol" : typeof obj;
}
var alias = [
    'stdin',
    'stdout',
    'stderr'
];
var hasAlias = function(opts) {
    return alias.some(function(x) {
        return Boolean(opts[x]);
    });
};
module.exports = function(opts) {
    if (!opts) {
        return null;
    }
    if (opts.stdio && hasAlias(opts)) {
        throw new Error("It's not possible to provide `stdio` in combination with one of ".concat(alias.map(function(x) {
            return "`".concat(x, "`");
        }).join(', ')));
    }
    if (typeof opts.stdio === 'string') {
        return opts.stdio;
    }
    var stdio = opts.stdio || [];
    if (!Array.isArray(stdio)) {
        throw new TypeError("Expected `stdio` to be of type `string` or `Array`, got `".concat(typeof stdio === "undefined" ? "undefined" : _type_of(stdio), "`"));
    }
    var result = [];
    var len = Math.max(stdio.length, alias.length);
    for(var i = 0; i < len; i++){
        var value = null;
        if (stdio[i] !== undefined) {
            value = stdio[i];
        } else if (opts[alias[i]] !== undefined) {
            value = opts[alias[i]];
        }
        result[i] = value;
    }
    return result;
};
